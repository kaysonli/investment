<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Experimental investment tools</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/data.css">
    <script data-main="scripts/index" src="scripts/require.js"></script>
</head>

<body>
    <div class="container">
        <ul id="nav" class="clearfix folders" data-bind="foreach: folders">
            <li data-bind="text: name, 
                           click: $root.goToFolder,
                           css: { selected: id == $root.chosenFolderId() }" class="nav-item"></li>
        </ul>
        <ul class="actions clearfix">
            <li id="sort" class="sort">
                <span class="amount" data-bind="click: $root.sortAmount,
                    css: { desc: $root.amountOrder() == 'desc', asc: $root.amountOrder() == 'asc'}">成交量
                </span>
                <span class="change" data-bind="click: $root.sortChange,
                    css: { desc: $root.changeOrder() == 'desc', asc: $root.changeOrder() == 'asc'}">涨跌幅
                </span>
            </li>
            <li class="btn-group">
                <button class="btn" id="btnUp" data-bind="click: $root.goUp">
                    <i class="icon-back"></i> 返回上级
                </button>
                <button class="btn" id="btnRefresh" data-bind="click: $root.refresh">
                    <i class="icon-refresh"></i> 刷新
                </button>
            </li>
            <li>
                <input type="checkbox" id="auto" data-bind="event: {change: toggleAutoRefresh}" /><label for="auto">自动刷新</label>
                <select id="freq" data-bind="event: { change: setFrequency }">
                    <option value="10">10s</option>
                    <option value="15">15s</option>
                    <option value="30">30s</option>
                </select>
            </li>
            <li><span id="time"></span></li>
            <li><button class="btn" id="btnSettings" data-bind="click: $root.setHoldings">
                    <i></i> 桌面通知
                </button></li>
            <li class="legend">
                <label>-10%</label><div class="legend-bar"></div><label>10%</label>
            </li>
        </ul>
        <!-- ko with: chosenFolderData -->
        <ul class="folder-content" data-bind="foreach: items">
            <li class="category" data-bind="css: { down: change <= 0, up: change > 0}, click: $root.goToCategory">
                <div class="main" data-bind="quote: {amount: amount, change: change, maxAmount: $parent.maxAmount}, event: { mouseover: $root.showDetail, mouseout: $root.hideDetail }"></div>
                <div class="title" data-bind="text: name"></div>
            </li>
        </ul>
        <!-- /ko -->
        <!-- ko with: chosenCategoryData -->
        <ul class="category-content" data-bind="foreach: items">
            <li class="category" data-bind="css: { down: change <= 0, up: change > 0}">
                <div class="main" data-bind="quote: {amount: amount, change: change, maxAmount: $parent.maxAmount}, event: { mouseover: $root.showDetail, mouseout: $root.hideDetail }"></div>
                <div class="title" data-bind="text: name"></div>
            </li>
        </ul>
        <!-- /ko -->
    </div>
    <div id="mask" class="mask">
        <div class="loading-box"></div>
    </div>
    <!-- ko with: tooltipData -->
    <div id="detail" style="display: none;" data-bind="css: { down: change <= 0, up: change > 0 }, visible: $root.showTooltip, style: {left: x + 'px', top: y + 'px' }">
        <h3 data-bind="text: name"></h3>
        <ul data-bind="foreach: tipItems">
            <li class="point" data-bind="if: value">
                <span class="column" data-bind="text: key"></span>
                <span class="value" data-bind="text: value, css: { price: showTrend }"></span>
            </li>
        </ul>
    </div>
    <!-- /ko -->
    <div class="mask" data-bind="visible: $root.showWindow">
        <div class="win-modal">
            <h3 class="center">输入基金持仓JSON</h3>
           <textarea class="holdings" name="" id="" cols="30" rows="10" data-bind="textInput: holdings"></textarea>
           <p class="center">
               <input type="button" class="btn" data-bind="click: saveHoldings" value="OK" />
               <input type="button" class="btn" data-bind="click: giveUp" value="Cancel" />
           </p>
        </div>
    </div>
</body>

</html>
